@import com.shouldioptimize.model.TimeCostResult
@(results: Iterable[TimeCostResult])

@main("Should I Optimize?") {
  <div class="container">
    <div class="upshot">
      <h1>Are you going to save more than <span>@results.find(_.instanceType == "t2.large").get.hoursPerProgrammerHour.formatted("%,.0f")</span> hours of instance time?</h1>

      <p class="lead">Then spend an hour optimizing. Otherwise, maybe wait.</p>

    </div>
    <div class="output">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Instance Type</th>
            <th>$/hour</th>
            <th class="programmer-hours">Hours/Programmer Hour</th>
          </tr>
        </thead>
        <tbody>
        @defining(java.text.NumberFormat.getCurrencyInstance) { currencyFormat =>
          @for( result <- results.toSeq.sortBy(_.instanceHourlyCost)) {
            <tr>
              <td>@result.instanceType</td>
              <td>$@result.instanceHourlyCost</td>
              <td class="programmer-hours">@result.hoursPerProgrammerHour.formatted("%,.0f")</td>
            </tr>
          }
        }
        </tbody>
      </table>
    </div>
  </div>


}
